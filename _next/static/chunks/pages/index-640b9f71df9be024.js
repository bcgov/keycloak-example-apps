(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(9652)}])},9652:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return I}});var t=l(5893),i=l(5712),o=l(967),r=l(8156),c=l(2729),s=l(7294),d=l(2125),a=l(4623),u=l(5150),h=l(5927),x=l(3272),j=l(8630),p=l.n(j);function f(){let e=(0,c._)(["\n  position: absolute;\n  border: 1\n  top: 0;\n  right: 0;\n"]);return f=function(){return e},e}let m=d.ZP.div(f()),k=e=>{let n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch(e){return document.body.removeChild(n),!1}},Z=e=>{let{keycloak:n,activeItem:l,customValue:i}=e;if(i)return(0,t.jsxs)(a.Z,{className:"overflow-wrap",children:[(0,t.jsx)(m,{onClick:()=>k(i),children:(0,t.jsx)(o.Z,{icon:!0,children:(0,t.jsx)(u.Z,{name:"copy outline"})})}),i]});let r=n[l];return"string"==typeof r?(0,t.jsxs)(a.Z,{className:"overflow-wrap",children:[(0,t.jsx)(m,{onClick:()=>k(r),children:(0,t.jsx)(o.Z,{icon:!0,children:(0,t.jsx)(u.Z,{name:"copy outline"})})}),r]}):"object"==typeof r?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(h.Z,{celled:!0,children:(0,t.jsx)(h.Z.Body,{children:Object.entries(r).map(e=>{let[n,l]=e;return(0,t.jsxs)(h.Z.Row,{children:[(0,t.jsx)(h.Z.Cell,{children:n}),(0,t.jsx)(h.Z.Cell,{children:p()(l)?JSON.stringify(l):l})]},n)})})})}):null};function g(e){let{keycloak:n}=e,[l,i]=(0,s.useState)("payload"),o=(e,n)=>{let{name:l}=n;return i(l)},r="";if("payload"===l){let e={access_token:n.token,refresh_token:n.refreshToken,id_token:n.idToken};r=JSON.stringify(e)}return(0,t.jsx)(t.Fragment,{children:(null==n?void 0:n.authenticated)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.Z,{attached:"top",tabular:!0,children:[(0,t.jsx)(x.Z.Item,{name:"payload",active:"payload"===l,onClick:o,children:"Payload"}),(0,t.jsxs)(x.Z.Item,{name:"token",active:"token"===l,onClick:o,children:["Token Raw"," "]}),(0,t.jsx)(x.Z.Item,{name:"tokenParsed",active:"tokenParsed"===l,onClick:o}),(0,t.jsxs)(x.Z.Item,{name:"idToken",active:"idToken"===l,onClick:o,children:["ID Token Raw"," "]}),(0,t.jsx)(x.Z.Item,{name:"idTokenParsed",active:"idTokenParsed"===l,onClick:o}),(0,t.jsxs)(x.Z.Item,{name:"refreshToken",active:"refreshToken"===l,onClick:o,children:["Refresh Token Raw"," "]}),(0,t.jsx)(x.Z.Item,{name:"refreshTokenParsed",active:"refreshTokenParsed"===l,onClick:o})]}),(0,t.jsx)(Z,{keycloak:n,activeItem:l,customValue:r,style:{maxWidth:"100%"}})]})})}var C=l(2777),y=l(6083),v=l(1860),_=l.n(v);function b(e){let{kcConfig:n,setKcConfig:l,loginOptions:i,setLginOptions:r}=e,[c,d]=(0,s.useState)(null),[a,h]=(0,s.useState)(n),[x,j]=(0,s.useState)(i),p=(e,n)=>{let{index:l}=n;l===c?d(null):d(l)},f=(e,n)=>{let{name:l,value:t}=n;h({...a,[l]:t})},m=(e,n)=>{let{name:l,value:t}=n;j({...x,[l]:t})};return(0,t.jsxs)(C.Z,{styled:!0,children:[(0,t.jsxs)(C.Z.Title,{active:0===c,index:0,onClick:p,children:[(0,t.jsx)(u.Z,{name:"dropdown"}),"Keycloak OIDC Config"]}),(0,t.jsx)(C.Z.Content,{active:0===c,children:(0,t.jsxs)(y.Z,{onSubmit:()=>{_().session("kcConfig",a),l(a)},children:[(0,t.jsxs)(y.Z.Field,{children:[(0,t.jsx)("label",{children:"Auth Server Url"}),(0,t.jsx)(y.Z.Input,{placeholder:"e.g https://dev.loginproxy.gov.bc.ca/auth",required:!0,type:"url",onChange:f,name:"url",defaultValue:null==a?void 0:a.url})]}),(0,t.jsxs)(y.Z.Field,{children:[(0,t.jsx)("label",{children:"Realm"}),(0,t.jsx)(y.Z.Input,{placeholder:"Realm",required:!0,onChange:f,name:"realm",defaultValue:null==a?void 0:a.realm})]}),(0,t.jsxs)(y.Z.Field,{children:[(0,t.jsx)("label",{children:"Client Id"}),(0,t.jsx)(y.Z.Input,{placeholder:"Client ID (resource)",required:!0,onChange:f,name:"clientId",defaultValue:null==a?void 0:a.clientId})]}),(0,t.jsx)(o.Z,{type:"submit",children:"Update"})]})}),(0,t.jsxs)(C.Z.Title,{active:1===c,index:1,onClick:p,children:[(0,t.jsx)(u.Z,{name:"dropdown"}),"Keycloak Login Options"]}),(0,t.jsx)(C.Z.Content,{active:1===c,children:(0,t.jsxs)(y.Z,{onSubmit:()=>{_().session("loginOptions",x),r(x)},children:[(0,t.jsxs)(y.Z.Field,{children:[(0,t.jsx)("label",{children:"IDP Hint"}),(0,t.jsx)(y.Z.Input,{placeholder:"e.g idir",onChange:m,name:"idpHint",defaultValue:null==x?void 0:x.idpHint})]}),(0,t.jsxs)(y.Z.Field,{children:[(0,t.jsx)("label",{children:"Redirect URI"}),(0,t.jsx)(y.Z.Input,{placeholder:"http://localhost:3000/",required:!0,type:"url",onChange:m,name:"redirectUri",defaultValue:null==x?void 0:x.redirectUri})]}),(0,t.jsxs)(y.Z.Field,{children:[(0,t.jsx)("label",{children:"Scope"}),(0,t.jsx)(y.Z.Input,{placeholder:"openid",required:!0,type:"text",onChange:m,name:"scope",defaultValue:null==x?void 0:x.scope})]}),(0,t.jsxs)(y.Z.Field,{children:[(0,t.jsx)("label",{children:"Digital Credential Configuration ID"}),(0,t.jsx)(y.Z.Input,{placeholder:"",type:"text",onChange:m,name:"pres_req_conf_id",defaultValue:null==x?void 0:x.pres_req_conf_id})]}),(0,t.jsx)(o.Z,{type:"submit",children:"Update"})]})})]})}var I=e=>{let{keycloak:n,kcConfig:l,setKcConfig:c,loginOptions:s,setLginOptions:d}=e;return(0,t.jsxs)(i.Z,{children:[(0,t.jsx)("br",{}),(0,t.jsx)("h1",{children:"Keycloak OIDC Playground"}),(0,t.jsxs)("p",{children:["This is a playground application for using the ",(0,t.jsx)("code",{children:"keycloak-js"})," adapter. Click the"," ",(0,t.jsx)("strong",{children:"Login"})," button below to login with the default client (uses IDIR as an IDP) and see your different token details. If you have your own public client, you can use the form below (Click on"," ",(0,t.jsx)("strong",{children:"Set My Own Client"}),") to authenticate to your own client."]}),(0,t.jsx)(o.Z,{onClick:()=>{if(s.pres_req_conf_id){var e=null==n?void 0:n.createLoginUrl(s);e&&(window.location.href=e+"&pres_req_conf_id="+s.pres_req_conf_id)}else null==n||n.login(s)},children:"Login"}),(null==n?void 0:n.authenticated)&&(0,t.jsx)(o.Z,{onClick:()=>{window.location.href="https://logon7.gov.bc.ca/clp-cgi/logoff.cgi?retnow=1&returl=".concat(encodeURIComponent("".concat(l.url,"/realms/").concat(l.realm,"/protocol/openid-connect/logout?post_logout_redirect_uri=")+s.redirectUri+"&id_token_hint="+n.idToken))},children:"Logout"}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(b,{kcConfig:l,setKcConfig:c,loginOptions:s,setLginOptions:d}),(0,t.jsx)("br",{}),(null==n?void 0:n.authenticated)?(0,t.jsx)(g,{keycloak:n}):(0,t.jsx)(r.Z,{children:(0,t.jsx)("p",{children:"Login to see id token details"})})]})}}},function(e){e.O(0,[271,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);